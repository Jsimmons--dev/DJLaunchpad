<template>
    <style>
        .grid-button{
            width:29%;
            padding-top:29%;
            background:red;
            display:inline-block;
            border-radius:10px;
        }
        .bg-blue {
            background:blue;
        }
        @media only screen and (min-width: 601px){
            .grid-button{
                width:19%;
                padding-top: 19%;
                background:orange;
            }
        }

        @media only screen and (min-width: 993px){
            .grid-button{
                width:9%;
                padding-top: 9%;
                background:green;
            }
        }
    </style>
    <div class="grid-button"></div>
</template>
<script>
    (function (window, document) {
        console.log('launching component');
        var thatDoc = document;

        var thisDoc = thatDoc.currentScript.ownerDocument;

        var template = thisDoc.querySelector('template').content;

        var MyElementProto = Object.create(HTMLElement.prototype);

        MyElementProto.createdCallback = function () {
            var shadowRoot = this.createShadowRoot();

            clone = thatDoc.importNode(template, true);
            shadowRoot.appendChild(clone);

            this.div = shadowRoot.querySelector('div');

            console.log('element created');
        }

        MyElementProto.attributeChangedCallback = function(attr, oldVal, newVal){
            if(attr === 'id')
                this.addEventListener('mousedown',function(event){
                    console.log('onmousedown!' + this);
                    var audio = audioChannels.get(this.id);
                    if (audio.paused) {
                        audio.play();
                    }else{
                        audio.currentTime = 0
                    }
                    this.shadowRoot.querySelector('div').classList.add('bg-blue');
                });
            this.addEventListener('mouseup',function(event){
                console.log('onmouseup!');
                this.div.classList.remove('bg-blue');
            });
        };
        window.MyElement = thatDoc.registerElement('launch-button', {
            prototype: MyElementProto
        });
    })(window, document);
</script>
